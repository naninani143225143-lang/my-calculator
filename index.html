<hr>

<h1 style="text-align:center">üéÆ Mini Games Zone</h1>

<div style="background:white;padding:20px;border-radius:10px;margin-top:10px;">

<!-- GAME BUTTONS -->
<div style="text-align:center;margin-bottom:15px;">
<button onclick="showGame('candy')">üç¨ Candy Crush</button>
<button onclick="showGame('snake')">üêç Snake Game</button>
</div>

<!-- ================= CANDY CRUSH GAME ================= -->
<div id="candyGame">

<h2>üç¨ Mini Candy Crush (Match 3)</h2>
<p>Click candies to swap and make 3 in a row.</p>

<canvas id="candyCanvas" width="300" height="300" style="border:1px solid #ccc;"></canvas>

<script>
const canvas = document.getElementById("candyCanvas");
const ctx = canvas.getContext("2d");

const size = 6;
const candySize = 50;
let grid = [];

const colors = ["red","blue","green","yellow","purple"];

function createGrid(){
  for(let i=0;i<size;i++){
    grid[i]=[];
    for(let j=0;j<size;j++){
      grid[i][j]=colors[Math.floor(Math.random()*colors.length)];
    }
  }
}

function drawGrid(){
  for(let i=0;i<size;i++){
    for(let j=0;j<size;j++){
      ctx.fillStyle = grid[i][j];
      ctx.fillRect(j*candySize, i*candySize, candySize-2, candySize-2);
    }
  }
}

let selected = null;

canvas.addEventListener("click", function(e){
  let x = Math.floor(e.offsetX / candySize);
  let y = Math.floor(e.offsetY / candySize);

  if(!selected){
    selected = {x,y};
  } else {
    let x2 = selected.x;
    let y2 = selected.y;

    // Swap
    let temp = grid[y][x];
    grid[y][x] = grid[y2][x2];
    grid[y2][x2] = temp;

    selected = null;
    drawGrid();
  }
});

createGrid();
drawGrid();
</script>
</div>

<!-- ================= SNAKE GAME ================= -->
<div id="snakeGame" style="display:none;">

<h2>üêç Snake Game</h2>
<p>Use arrow keys to move the snake.</p>

<canvas id="snakeCanvas" width="300" height="300" style="border:1px solid #ccc;"></canvas>

<script>
const sCanvas = document.getElementById("snakeCanvas");
const sctx = sCanvas.getContext("2d");

let box = 20;
let snake = [{x:10,y:10}];
let food = {x:5,y:5};
let dir = "RIGHT";

document.addEventListener("keydown", direction);

function direction(event){
  if(event.key === "ArrowLeft") dir="LEFT";
  if(event.key === "ArrowUp") dir="UP";
  if(event.key === "ArrowRight") dir="RIGHT";
  if(event.key === "ArrowDown") dir="DOWN";
}

function drawSnake(){
  sctx.clearRect(0,0,300,300);

  // draw food
  sctx.fillStyle = "red";
  sctx.fillRect(food.x*box, food.y*box, box, box);

  // draw snake
  sctx.fillStyle = "green";
  for(let i=0;i<snake.length;i++){
    sctx.fillRect(snake[i].x*box, snake[i].y*box, box, box);
  }

  let head = {x:snake[0].x, y:snake[0].y};

  if(dir==="LEFT") head.x--;
  if(dir==="RIGHT") head.x++;
  if(dir==="UP") head.y--;
  if(dir==="DOWN") head.y++;

  snake.unshift(head);

  if(head.x === food.x && head.y === food.y){
    food = {
      x: Math.floor(Math.random()*15),
      y: Math.floor(Math.random()*15)
    };
  } else {
    snake.pop();
  }
}

setInterval(drawSnake, 150);
</script>
</div>

</div>

<script>
function showGame(game){
  document.getElementById("candyGame").style.display="none";
  document.getElementById("snakeGame").style.display="none";

  if(game==="candy"){
    document.getElementById("candyGame").style.display="block";
  } else {
    document.getElementById("snakeGame").style.display="block";
  }
}
</script>
